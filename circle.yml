machine:
    node:
        version: 6.11.1
    environment:
        PATH: "${PATH}:${HOME}/${CIRCLE_PROJECT_REPONAME}/node_modules/.bin"

dependencies:
    override:
        - yarn
    cache_directories:
        - ~/.cache/yarn

dependencies:
    post:
        - npm run install:modules:electron

compile:
    override:
        - npm run build

test:
    post:
        - npm run build
        - npm run package
        - zip -r release.zip release
        - mv release.zip $CIRCLE_ARTIFACTS
